define("app/router",["ember"],function(){return Ember.Router.extend({root:Ember.Route.extend({showAll:Ember.Route.transitionTo("index"),showActive:Ember.Route.transitionTo("active"),showCompleted:Ember.Route.transitionTo("completed"),index:Ember.Route.extend({route:"/",connectOutlets:function(e){var t=e.get("applicationController"),n=t.namespace.entriesController;n.set("filterBy",""),require(["app/controllers/todos","app/views/items"],function(e,r){t.connectOutlet({viewClass:r,controller:e.create(),context:n})})}}),active:Ember.Route.extend({route:"/active",connectOutlets:function(e){var t=e.get("applicationController"),n=t.namespace.entriesController;n.set("filterBy","active"),require(["app/controllers/todos","app/views/items"],function(e,r){t.connectOutlet({viewClass:r,controller:e.create(),context:n})})}}),completed:Ember.Route.extend({route:"/completed",connectOutlets:function(e){var t=e.get("applicationController"),n=t.namespace.entriesController;n.set("filterBy","completed"),require(["app/controllers/todos","app/views/items"],function(e,r){t.connectOutlet({viewClass:r,controller:e.create(),context:n})})}}),specs:Ember.Route.extend({route:"/specs",connectOutlets:function(){require(["app/specs/helper"])}})})})}),define("app/models/todo",["ember"],function(){return Ember.Object.extend({id:null,title:null,completed:!1,store:null,todoChanged:function(){this.get("store").update(this)}.observes("title","completed")})}),define("app/models/store",["app/models/todo","ember"],function(e){return function(t){this.name=t;var n=localStorage.getItem(this.name);this.data=n&&JSON.parse(n)||{},this.save=function(){localStorage.setItem(this.name,JSON.stringify(this.data))},this.createFromTitle=function(t){var n=e.create({title:t,store:this});return this.create(n),n},this.create=function(e){return e.get("id")||e.set("id",Date.now()),this.update(e)},this.update=function(e){return this.data[e.get("id")]=e.getProperties("id","title","completed"),this.save(),e},this.find=function(t){var n=e.create(this.data[t.get("id")]);return n.set("store",this),n},this.findAll=function(){var t=[],n;for(n in this.data){var r=e.create(this.data[n]);r.set("store",this),t.push(r)}return t},this.remove=function(e){return delete this.data[e.get("id")],this.save(),e}}}),define("app/controllers/entries",["ember"],function(){return Ember.ArrayProxy.extend({store:null,content:[],createNew:function(e){if(!e.trim())return;var t=this.get("store").createFromTitle(e);this.pushObject(t)},pushObject:function(e,t){return t||this.get("store").create(e),this._super(e)},removeObject:function(e){return this.get("store").remove(e),this._super(e)},clearCompleted:function(){this.filterProperty("completed",!0).forEach(this.removeObject,this)},total:function(){return this.get("length")}.property("@each.length"),remaining:function(){return this.filterProperty("completed",!1).get("length")}.property("@each.completed"),completed:function(){return this.filterProperty("completed",!0).get("length")}.property("@each.completed"),noneLeft:function(){return this.get("total")===0}.property("total"),allAreDone:function(e,t){return t!==undefined?(this.setEach("completed",t),t):!!this.get("length")&&this.everyProperty("completed",!0)}.property("@each.completed"),init:function(){this._super();var e=this.get("store").findAll();e.get("length")&&this.set("[]",e)}})}),define("app/views/stats",["text","ember"],function(e){return Ember.View.extend({entriesBinding:"controller.namespace.entriesController",elementId:"todo-count",tagName:"span",template:Ember.Handlebars.compile(e),oneLeft:function(){return this.getPath("entries.remaining")===1}.property("entries.remaining")})}),define("app/views/filters",["text","ember"],function(e){return Ember.View.extend({template:Ember.Handlebars.compile(e),filterBinding:"controller.namespace.entriesController.filterBy",isAll:function(){return Ember.empty(this.get("filter"))}.property("filter"),isActive:function(){return this.get("filter")==="active"}.property("filter"),isCompleted:function(){return this.get("filter")==="completed"}.property("filter")})}),define("app/views/clear_button",["text","ember"],function(e){return Ember.View.extend({entriesBinding:"controller.namespace.entriesController",template:Ember.Handlebars.compile(e),classNameBindings:"buttonClass",buttonClass:function(){if(!this.getPath("entries.completed"))return"hidden"}.property("entries.completed")})}),define("app/views/application",["app/views/stats","app/views/filters","app/views/clear_button","ember"],function(e,t,n){return Ember.ContainerView.extend({childViews:["headerView","mainView","footerView"],headerView:Ember.ContainerView.create({childViews:["titleView","createTodoView"],elementId:"header",tagName:"header",titleView:Ember.View.create({tagName:"h1",template:function(){return"todos"}}),createTodoView:Ember.TextField.create({entriesBinding:"controller.namespace.entriesController",placeholder:"What needs to be done?",elementId:"new-todo",insertNewline:function(){var e=this.get("value");e&&(this.get("entries").createNew(e),this.set("value",""))}})}),mainView:Em.ContainerView.create({elementId:"main",tagName:"section",visibilityBinding:"controller.namespace.entriesController.noneLeft",classNameBindings:["visibility:hidden"],childViews:["outletView","markAllChkbox"],outletView:Ember.View.create({template:Ember.Handlebars.compile("{{outlet}}")}),markAllChkbox:Ember.Checkbox.create({entriesBinding:"controller.namespace.entriesController",elementId:"toggle-all",checkedBinding:"entries.allAreDone"})}),footerView:Ember.ContainerView.create({elementId:"footer",tagName:"footer",visibilityBinding:"controller.namespace.entriesController.noneLeft",classNameBindings:["visibility:hidden"],childViews:[e.create(),t.create(),n.create()]})})}),require.config({baseUrl:"js/",paths:{jquery:"../../../assets/jquery.min",ember:"lib/ember-latest.min",handlebars:"../../../assets/handlebars.min",text:"lib/require/text",jasmine:"../../../assets/jasmine/jasmine",jasmine_html:"../../../assets/jasmine/jasmine-html"}}),define("app",["app/router","app/models/store","app/controllers/entries","app/views/application","jquery","handlebars","ember"],function(e,t,n,r){var i=Ember.Application.create({VERSION:"1.0",rootElement:"#todoapp",Router:e,ApplicationController:Ember.Controller.extend(),ApplicationView:r,entriesController:n.create({store:new t("todos-emberjs")}),ready:function(){this.initialize()}});return window.Todos=i});